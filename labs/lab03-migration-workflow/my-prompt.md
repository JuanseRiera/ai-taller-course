You are a senior software engineer planing on how to build an app that leverage AI to migrate code between frameworks with me. the idea is to utilize several patterns in our project. for example I would like to use the multi agent pipeline pattern, having one agent for analyzing the source code, the next one (phase 2) for planning, the third one for execution and the last one for verification. we could define some tools for the agents to use to make their jobs easier. 
In the first phase (analyze) the agent should parse the source code, identify pattern and dependencies and detect potential issues. The output of the phase will go as an input of the next agent in phase two (planning). On this phase the agent should create step-by-step migration plan, identify dependencies between steps and estimate complexity per step. For phase three the agent should execute each step in order, generate migrated code and track progress and results. Finally for phase 3, the agent should check migrated code compiles/runs, identify any remaining issues and generate migration report.
The initial input will be the source files and the target framework and the output will be the migrate files and the report. As I said each output from the agents will be the input of the next one so I would like to tell the agent to send the response in a specific format and tell the next agent to expect his input in that same format. for the phase three( execution) I would like for the agent to use the ReAct pattern. I would like the API to be a typescript project with hono. in here /Users/juanseriera/Documents/Cursos/AI Taller/AI_Training/labs/lab03-migration-workflow/typescript. For the agent initialization we could use this /Users/juanseriera/Documents/Cursos/AI Taller/AI_Training/optional-exercises/shared/utils/typescript/src/llm-client.ts file that allows to swich agents depending on the env variable provided. The idea is to only migrate the code provided by the user, the agents should not invent code. If an import is provided in a file we just migrate the import we do not imagine what the imported file was. I repeat the agents should not invent content, they should just migrate the code that its provided to them, if the code cant be migrated we should inform the user that the file cant be migrated but try to migrate the other files. if an agent fails to respond we could have it run it a second time, after that if he fails again we throw an error to the user